(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{202:function(s,a,n){"use strict";n.r(a);var e=n(0),t=Object(e.a)({},function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_1-2-1-umi-ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-umi-ä½¿ç”¨","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.1 umi ä½¿ç”¨")]),s._v(" "),n("blockquote",[n("p",[s._v("umiï¼Œä¸­æ–‡å¯å‘éŸ³ä¸ºä¹Œç±³ï¼Œæ˜¯ä¸€ä¸ªå¯æ’æ‹”çš„ä¼ä¸šçº§ react åº”ç”¨æ¡†æ¶ã€‚umi ä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ï¼Œæ”¯æŒç±» next.js çš„çº¦å®šå¼è·¯ç”±ï¼Œä»¥åŠå„ç§è¿›é˜¶çš„è·¯ç”±åŠŸèƒ½ï¼Œå¹¶ä»¥æ­¤è¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œæ¯”å¦‚æ”¯æŒè·¯ç”±çº§çš„æŒ‰éœ€åŠ è½½ã€‚ç„¶åé…ä»¥å®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ï¼Œç›®å‰å†…å¤–éƒ¨åŠ èµ·æ¥å·²æœ‰ 50+ çš„æ’ä»¶ã€‚")])]),s._v(" "),n("blockquote",[n("p",[s._v("ğŸ“¦ å¼€ç®±å³ç”¨ï¼Œå†…ç½® reactã€react-router ç­‰\nğŸˆ ç±» next.js ä¸”åŠŸèƒ½å®Œå¤‡çš„è·¯ç”±çº¦å®šï¼ŒåŒæ—¶æ”¯æŒé…ç½®çš„è·¯ç”±æ–¹å¼\nğŸ‰ å®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸ\nğŸš€ é«˜æ€§èƒ½ï¼Œé€šè¿‡æ’ä»¶æ”¯æŒ PWAã€ä»¥è·¯ç”±ä¸ºå•å…ƒçš„ code splitting ç­‰\nğŸ’ˆ æ”¯æŒé™æ€é¡µé¢å¯¼å‡ºï¼Œé€‚é…å„ç§ç¯å¢ƒï¼Œæ¯”å¦‚ä¸­å°ä¸šåŠ¡ã€æ— çº¿ä¸šåŠ¡ã€eggã€æ”¯ä»˜å®é’±åŒ…ã€äº‘å‡¤è¶ç­‰\nğŸš„ å¼€å‘å¯åŠ¨å¿«ï¼Œæ”¯æŒä¸€é”®å¼€å¯ dll å’Œ hard-source-webpack-plugin ç­‰\nğŸ  ä¸€é”®å…¼å®¹åˆ° IE9ï¼ŒåŸºäº umi-plugin-polyfills\nğŸ å®Œå–„çš„ TypeScript æ”¯æŒï¼ŒåŒ…æ‹¬ d.ts å®šä¹‰å’Œ umi test\nğŸŒ´ ä¸ dva æ•°æ®æµçš„æ·±å…¥èåˆï¼Œæ”¯æŒ duck directoryã€model çš„è‡ªåŠ¨åŠ è½½ã€code splitting ç­‰ç­‰")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/zvfEXesXdgTzWYZCuHLe.png",alt:""}})]),s._v(" "),n("h2",{attrs:{id:"install"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install","aria-hidden":"true"}},[s._v("#")]),s._v(" install")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# å…¨å±€å®‰è£… umi\n\nyarn global add umi\n\nä½¿ç”¨ yarn å®‰è£…åå…¨å±€è¿˜æ˜¯ä¸èƒ½ä½¿ç”¨ umiï¼Œ\n[è§£å†³æ–¹æ³•](https://github.com/fairyly/mynodejs/blob/gh-pages/1.2.5%20%E8%A7%A3%E5%86%B3yarn%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E6%A8%A1%E5%9D%97%E5%90%8E%E4%BD%86%E4%BB%8D%E6%8F%90%E7%A4%BA%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%E5%91%BD%E4%BB%A4%E7%9A%84%E9%97%AE%E9%A2%98.md)\n\næœ€åæ”¹ç”¨ npm i -g umi\n\nå‡ºç°é—®é¢˜ï¼š\nnpm ERR! code ETARGET\nnpm ERR! notarget No matching version found for @babel/generator@^7.2.2\nnpm ERR! notarget In most cases you or one of your dependencies are requesting\nnpm ERR! notarget a package version that doesn't exist.\nnpm ERR! notarget\nnpm ERR! notarget It was specified as a dependency of '@babel/core'\nnpm ERR! notarget\n\nç”±äºåŸæ¥ä½¿ç”¨çš„æ˜¯å…¬å¸çš„æºï¼Œå°±åˆ‡æ¢åˆ° æ·˜å®æºä¹‹åé‡æ–°å®‰è£…å°±å¯ä»¥äº†\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h2",{attrs:{id:"usageï¼ˆtestï¼‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#usageï¼ˆtestï¼‰","aria-hidden":"true"}},[s._v("#")]),s._v(" usageï¼ˆtestï¼‰")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("å»ºä¸ªç©ºç›®å½•:\nmkdir myapp && cd myapp\n\né€šè¿‡ umi g åˆ›å»ºä¸€äº›é¡µé¢:\n\n$ umi g page index\n$ umi g page users\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®","aria-hidden":"true"}},[s._v("#")]),s._v(" é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mkdir myapp && cd myapp\nnpm create umi\n\né€‰æ‹© app\n\n? Do you want to use typescript? (y/N) n\n\né€‰æ‹© antd\n\n\n\nåˆ›å»ºå®Œæˆ \n\nnpm start å¯åŠ¨\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"ç›®å½•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç›®å½•","aria-hidden":"true"}},[s._v("#")]),s._v(" ç›®å½•")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ä¸€ä¸ªå¤æ‚åº”ç”¨çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n\n.\nâ”œâ”€â”€ dist/                          // é»˜è®¤çš„ build è¾“å‡ºç›®å½•\nâ”œâ”€â”€ mock/                          // mock æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ŒåŸºäº express\nâ”œâ”€â”€ config/\n    â”œâ”€â”€ config.js                  // umi é…ç½®ï¼ŒåŒ .umirc.jsï¼ŒäºŒé€‰ä¸€\nâ””â”€â”€ src/                           // æºç ç›®å½•ï¼Œå¯é€‰\n    â”œâ”€â”€ layouts/index.js           // å…¨å±€å¸ƒå±€\n    â”œâ”€â”€ pages/                     // é¡µé¢ç›®å½•ï¼Œé‡Œé¢çš„æ–‡ä»¶å³è·¯ç”±\n        â”œâ”€â”€ .umi/                  // dev ä¸´æ—¶ç›®å½•ï¼Œéœ€æ·»åŠ åˆ° .gitignore\n        â”œâ”€â”€ .umi-production/       // build ä¸´æ—¶ç›®å½•ï¼Œä¼šè‡ªåŠ¨åˆ é™¤\n        â”œâ”€â”€ document.ejs           // HTML æ¨¡æ¿\n        â”œâ”€â”€ 404.js                 // 404 é¡µé¢\n        â”œâ”€â”€ page1.js               // é¡µé¢ 1ï¼Œä»»æ„å‘½åï¼Œå¯¼å‡º react ç»„ä»¶\n        â”œâ”€â”€ page1.test.js          // ç”¨ä¾‹æ–‡ä»¶ï¼Œumi test ä¼šåŒ¹é…æ‰€æœ‰ .test.js å’Œ .e2e.js ç»“å°¾çš„æ–‡ä»¶\n        â””â”€â”€ page2.js               // é¡µé¢ 2ï¼Œä»»æ„å‘½å\n    â”œâ”€â”€ global.css                 // çº¦å®šçš„å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œè‡ªåŠ¨å¼•å…¥ï¼Œä¹Ÿå¯ä»¥ç”¨ global.less\n    â”œâ”€â”€ global.js                  // å¯ä»¥åœ¨è¿™é‡ŒåŠ å…¥ polyfill\n    â”œâ”€â”€ app.js                     // è¿è¡Œæ—¶é…ç½®æ–‡ä»¶\nâ”œâ”€â”€ .umirc.js                      // umi é…ç½®ï¼ŒåŒ config/config.jsï¼ŒäºŒé€‰ä¸€\nâ”œâ”€â”€ .env                           // ç¯å¢ƒå˜é‡\nâ””â”€â”€ package.json\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("blockquote",[n("p",[s._v(".umi ä¸­ä¼šç”Ÿæˆä¸€äº›é…ç½®æ–‡ä»¶ï¼Œå¦‚æœ¬åœ°è·¯ç”±é…ç½®ç­‰"),n("br"),s._v("\næ³¨æ„ï¼šï¼ˆä¸è¦ç›´æ¥åœ¨è¿™é‡Œä¿®æ”¹ä»£ç ï¼Œumi é‡å¯æˆ–è€… pages ä¸‹çš„æ–‡ä»¶ä¿®æ”¹éƒ½ä¼šé‡æ–°ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ï¼‰")])]),s._v(" "),n("h2",{attrs:{id:"è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("ä»‹ç»çš„è·¯ç”±ä½¿ç”¨å¯ä»¥åœ¨ "),n("a",{attrs:{href:"https://github.com/umijs/umi-examples/tree/master/routes",target:"_blank",rel:"noopener noreferrer"}},[s._v("umi-examples/routes"),n("OutboundLink")],1),s._v(" å’Œ "),n("a",{attrs:{href:"https://github.com/umijs/umi-examples/tree/master/routes-via-config",target:"_blank",rel:"noopener noreferrer"}},[s._v("umi-examples/routes-via-config"),n("OutboundLink")],1),s._v(" é‡Œæ‰¾åˆ°ç¤ºä¾‹ä»£ç ")])]),s._v(" "),n("h4",{attrs:{id:"çº¦å®šå¼è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çº¦å®šå¼è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" çº¦å®šå¼è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("çº¦å®š pages ä¸‹æ‰€æœ‰çš„ jsã€jsxã€ts å’Œ tsx æ–‡ä»¶å³è·¯ç”±ã€‚")])]),s._v(" "),n("h6",{attrs:{id:"åŸºç¡€è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" åŸºç¡€è·¯ç”±")]),s._v(" "),n("p",[s._v("å‡è®¾ pages ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+ pages/  \n  + users/  \n    - index.js  \n    - list.js  \n  - index.js  \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("é‚£ä¹ˆï¼Œumi ä¼šè‡ªåŠ¨ç”Ÿæˆè·¯ç”±é…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[\n  { path: '/', component: './pages/index.js' },\n  { path: '/users/', component: './pages/users/index.js' },\n  { path: '/users/list', component: './pages/users/list.js' },\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"åŠ¨æ€è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" åŠ¨æ€è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("umi é‡Œçº¦å®šï¼Œå¸¦ $ å‰ç¼€çš„ç›®å½•æˆ–æ–‡ä»¶ä¸ºåŠ¨æ€è·¯ç”±ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+ pages/\n  + $post/\n    - index.js\n    - comments.js\n  + users/\n    $id.js\n  - index.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("ä¼šç”Ÿæˆè·¯ç”±é…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[\n  { path: '/', component: './pages/index.js' },\n  { path: '/users/:id', component: './pages/users/$id.js' },\n  { path: '/:post/', component: './pages/$post/index.js' },\n  { path: '/:post/comments', component: './pages/$post/comments.js' },\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"å¯é€‰çš„åŠ¨æ€è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯é€‰çš„åŠ¨æ€è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" å¯é€‰çš„åŠ¨æ€è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("umi é‡Œçº¦å®šåŠ¨æ€è·¯ç”±å¦‚æœå¸¦ $ åç¼€ï¼Œåˆ™ä¸ºå¯é€‰åŠ¨æ€è·¯ç”±ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ä»¥ä¸‹ç»“æ„ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+ pages/\n  + users/\n    - $id$.js\n  - index.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("ä¼šç”Ÿæˆè·¯ç”±é…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[\n  { path: '/': component: './pages/index.js' },\n  { path: '/users/:id?': component: './pages/users/$id$.js' },\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h5",{attrs:{id:"åµŒå¥—è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åµŒå¥—è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" åµŒå¥—è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("umi é‡Œçº¦å®šç›®å½•ä¸‹æœ‰ _layout.js æ—¶ä¼šç”ŸæˆåµŒå¥—è·¯ç”±ï¼Œä»¥ _layout.js ä¸ºè¯¥ç›®å½•çš„ layout ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+ pages/\n  + users/\n    - _layout.js\n    - $id.js\n    - index.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("ä¼šç”Ÿæˆè·¯ç”±é…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[\n  { path: '/users', component: './pages/users/_layout.js',\n    routes: [\n     { path: '/users/', component: './pages/users/index.js' },\n     { path: '/users/:id', component: './pages/users/$id.js' },\n   ],\n  },\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h1",{attrs:{id:"å…¨å±€-layout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€-layout","aria-hidden":"true"}},[s._v("#")]),s._v(" å…¨å±€ layout")]),s._v(" "),n("blockquote",[n("p",[s._v("çº¦å®š src/layouts/index.js ä¸ºå…¨å±€è·¯ç”±ï¼Œè¿”å›ä¸€ä¸ª React ç»„ä»¶ï¼Œé€šè¿‡ props.children æ¸²æŸ“å­ç»„ä»¶ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default function(props) {\n  return (\n    <>\n      <Header />\n      { props.children }\n      <Footer />\n    </>\n  );\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h5",{attrs:{id:"ä¸åŒçš„å…¨å±€-layout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒçš„å…¨å±€-layout","aria-hidden":"true"}},[s._v("#")]),s._v(" ä¸åŒçš„å…¨å±€ layout")]),s._v(" "),n("blockquote",[n("p",[s._v("ä½ å¯èƒ½éœ€è¦é’ˆå¯¹ä¸åŒè·¯ç”±è¾“å‡ºä¸åŒçš„å…¨å±€ layoutï¼Œumi ä¸æ”¯æŒè¿™æ ·çš„é…ç½®ï¼Œ"),n("br"),s._v("\nä½†ä½ ä»å¯ä»¥åœ¨ layouts/index.js å¯¹ location.path åšåŒºåˆ†ï¼Œæ¸²æŸ“ä¸åŒçš„ layout ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚æƒ³è¦é’ˆå¯¹ /login è¾“å‡ºç®€å•å¸ƒå±€ï¼Œ")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default function(props) {\n  if (props.location.pathname === '/login') {\n    return <SimpleLayout>{ props.children }</SimpleLayout>\n  }\n\n  return (\n    <>\n      <Header />\n      { props.children }\n      <Footer />\n    </>\n  );\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h5",{attrs:{id:"_404-è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_404-è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" 404 è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("çº¦å®š pages/404.js ä¸º 404 é¡µé¢ï¼Œéœ€è¿”å› React ç»„ä»¶ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default () => {\n  return (\n    <div>I am a customized 404 page</div>\n  );\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("blockquote",[n("p",[s._v("æ³¨æ„ï¼šå¼€å‘æ¨¡å¼ä¸‹ï¼Œumi ä¼šæ·»åŠ ä¸€ä¸ªé»˜è®¤çš„ 404 é¡µé¢æ¥è¾…åŠ©å¼€å‘ï¼Œä½†ä½ ä»ç„¶å¯é€šè¿‡ç²¾ç¡®åœ°è®¿é—® /404 æ¥éªŒè¯ 404 é¡µé¢ã€‚")])]),s._v(" "),n("h5",{attrs:{id:"é…ç½®å¼è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®å¼è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" é…ç½®å¼è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("å¦‚æœä½ å€¾å‘äºä½¿ç”¨é…ç½®å¼çš„è·¯ç”±ï¼Œå¯ä»¥é…ç½® routes ï¼Œæ­¤é…ç½®é¡¹å­˜åœ¨æ—¶åˆ™ä¸ä¼šå¯¹ src/pages ç›®å½•åšçº¦å®šå¼çš„è§£æã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default {\n  routes: [\n    { path: '/', component: './a' },\n    { path: '/list', component: './b', Routes: ['./routes/PrivateRoute.js'] },\n    { path: '/users', component: './users/_layout',\n      routes: [\n        { path: '/users/detail', component: './users/detail' },\n        { path: '/users/:id', component: './users/id' }\n      ]\n    },\n  ],\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("blockquote",[n("p",[s._v("æ³¨æ„ï¼šcomponent æ˜¯ç›¸å¯¹äº src/pages ç›®å½•çš„")])]),s._v(" "),n("h5",{attrs:{id:"æƒé™è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æƒé™è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" æƒé™è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("umi çš„æƒé™è·¯ç”±æ˜¯é€šè¿‡é…ç½®è·¯ç”±çš„ Routes å±æ€§æ¥å®ç°ã€‚çº¦å®šå¼çš„é€šè¿‡ yaml æ³¨é‡Šæ·»åŠ ï¼Œé…ç½®å¼çš„ç›´æ¥é…ä¸Šå³å¯ã€‚")])]),s._v(" "),n("p",[s._v("æ¯”å¦‚æœ‰ä»¥ä¸‹é…ç½®ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[\n  { path: '/', component: './pages/index.js' },\n  { path: '/list', component: './pages/list.js', Routes: ['./routes/PrivateRoute.js'] },\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("ç„¶å umi ä¼šç”¨ ./routes/PrivateRoute.js æ¥æ¸²æŸ“ /listã€‚")]),s._v(" "),n("p",[s._v("./routes/PrivateRoute.js æ–‡ä»¶ç¤ºä¾‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default (props) => {\n  return (\n    <div>\n      <div>PrivateRoute (routes/PrivateRoute.js)</div>\n      { props.children }\n    </div>\n  );\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h5",{attrs:{id:"å¯ç”¨-hash-è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯ç”¨-hash-è·¯ç”±","aria-hidden":"true"}},[s._v("#")]),s._v(" å¯ç”¨ Hash è·¯ç”±")]),s._v(" "),n("blockquote",[n("p",[s._v("umi é»˜è®¤æ˜¯ç”¨çš„ Browser Historyï¼Œå¦‚æœè¦ç”¨ Hash Historyï¼Œéœ€é…ç½®ï¼š")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default {\n  history: 'hash',\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"å‚è€ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ","aria-hidden":"true"}},[s._v("#")]),s._v(" å‚è€ƒ")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://umijs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("docs"),n("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=t.exports}}]);