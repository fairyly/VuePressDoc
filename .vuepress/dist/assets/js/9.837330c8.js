(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{224:function(t,e,a){"use strict";a.r(e);var r=a(0),i=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_1-1-4-react-native运行原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-react-native运行原理","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.4 React Native运行原理")]),t._v(" "),a("h2",{attrs:{id:"初始化-react-native"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化-react-native","aria-hidden":"true"}},[t._v("#")]),t._v(" 初始化 React Native")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("1.读取 JavaScript 源码")]),t._v(" "),a("ul",[a("li",[t._v("JavaScript 加载进内存, JSX 代码已经被转化成原生的 JavaScript 代码")])])]),t._v(" "),a("li",[a("p",[t._v("2.初始化模块信息")]),t._v(" "),a("ul",[a("li",[t._v("这一步在方法 initModulesWithDispatchGroup中实现，主要任务是找到所有需要暴露给 JavaScript的类")])])]),t._v(" "),a("li",[a("p",[t._v("3.初始化 JavaScript 代码的执行器，即 RCTJSCExecutor 对象")])]),t._v(" "),a("li",[a("p",[t._v("4.生成模块列表并写入 JavaScript 端")])]),t._v(" "),a("li",[a("p",[t._v("5.执行 JavaScript 源码")])])]),t._v(" "),a("p",[t._v("在 React Native 中，Objective-C 和 JavaScript 的交互都是通过传递 ModuleId 、 MethodId、CallbackID和 Arguments 进行的，大概流程是这样：")]),t._v(" "),a("blockquote",[a("p",[t._v("JS调用OC方法——> 通过配置表转换参数（ModuleId MethodId CallbackID Arguments）——> 传递参数到消息队列——>"),a("br"),t._v("\nOC拿到参数并通过配置列表执行对应函数——> 执行后返回回调ID和参数 ——> JS执行通过ID执行回调函数")])]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/04251c28e23d",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native运行原理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://blog.cnbang.net/tech/2698/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native通信机制详解"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://bestswifter.com/react-native/?utm_source=tuicool&utm_medium=referral",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native 从入门到原理"),a("OutboundLink")],1)])])])},[],!1,null,null,null);e.default=i.exports}}]);