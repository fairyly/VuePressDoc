(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{249:function(a,r,e){"use strict";e.r(r);var t=e(0),s=Object(t.a)({},function(){var a=this,r=a.$createElement,e=a._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_2-1-2-js抽象语法树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-js抽象语法树","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1.2 JS抽象语法树")]),a._v(" "),e("blockquote",[e("p",[a._v("由 JS 解析器把代码转化成 AST")])]),a._v(" "),e("h2",{attrs:{id:"编译器-和-解释器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译器-和-解释器","aria-hidden":"true"}},[a._v("#")]),a._v(" 编译器 和 解释器")]),a._v(" "),e("blockquote",[e("p",[a._v("能够将代码转化成AST的工具叫做“编译器”，"),e("br"),a._v("\n而把能够将AST翻译成目标语言并运行的工具叫做“解释器”。")])]),a._v(" "),e("h3",{attrs:{id:"编译器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译器","aria-hidden":"true"}},[a._v("#")]),a._v(" 编译器")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("词法分析：一个一个字母分析")]),a._v(" "),e("ul",[e("li",[a._v("1.分析形参")]),a._v(" "),e("li",[a._v("2.分析变量声明")]),a._v(" "),e("li",[a._v("3.分析函数声明")])])]),a._v(" "),e("li",[e("h2",{attrs:{id:"语法分析-把词法分析数组转化成抽象语法树-ast-，验证语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法分析-把词法分析数组转化成抽象语法树-ast-，验证语法","aria-hidden":"true"}},[a._v("#")]),a._v(" 语法分析: 把词法分析数组转化成抽象语法树(AST)，验证语法")])]),a._v(" "),e("li",[e("p",[a._v("字节码生成器\n字节码生成器的作用，是将抽象语法树转为JavaScript引擎可以执行的二进制代码")])]),a._v(" "),e("li",[e("p",[a._v("字节码解释器\n字节码解释器的作用是读取并执行字节码。")])]),a._v(" "),e("li",[e("p",[a._v("参考：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/xianjiezh/js-interpreter-cn-docs",target:"_blank",rel:"noopener noreferrer"}},[a._v("JS-Interpreter 中文文档"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://javascript.ruanyifeng.com/advanced/interpreter.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("JavaScript解释器"),e("OutboundLink")],1)])])])]),a._v(" "),e("h2",{attrs:{id:"什么是抽象语法树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是抽象语法树","aria-hidden":"true"}},[a._v("#")]),a._v(" 什么是抽象语法树")]),a._v(" "),e("h2",{attrs:{id:"众多的引擎"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#众多的引擎","aria-hidden":"true"}},[a._v("#")]),a._v(" 众多的引擎")]),a._v(" "),e("blockquote",[e("p",[a._v("通过什么工具或库来实现源码转化为抽象语法树？"),e("br"),a._v("\n那就是javascript Parser 解析器，他会把js源码转化为抽象的语法树。"),e("br"),a._v("\n浏览器会把js源码通过解析器转化为抽象语法树，再进一步转化为字节码或直接生成机器码")])]),a._v(" "),e("p",[a._v("一般来说每一个js引擎都会有自己的抽象语法树格式，chrome的v8引擎，firefox的SpiderMonkey 引擎等等，"),e("br"),a._v("\nMDN提供了详细SpiderMonkey AST format的详细说明，算是业界的标准。"),e("br"),a._v("\n（SpiderMonkey是Mozilla项目的一部分，是一个用C语言实现的JavaScript脚本引擎，"),e("br"),a._v("\n为了在SpiderMonkey中运行JavaScript代码，应用程序必须有三个要素：JSRuntime，JSContext和全局对象。）")]),a._v(" "),e("ul",[e("li",[a._v("参考 ： "),e("a",{attrs:{href:"https://juejin.im/post/5ab83f67f265da237e09b2f6",target:"_blank",rel:"noopener noreferrer"}},[a._v("抽象语法树 Abstract syntax tree"),e("OutboundLink")],1)])]),a._v(" "),e("p",[a._v("chrome有v8，firefix有spidermonkey.还有一些常用的引擎有：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("esprima\nacron\nTraceur\nUglifyJS2\nshift\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h2",{attrs:{id:"ast的三板斧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ast的三板斧","aria-hidden":"true"}},[a._v("#")]),a._v(" AST的三板斧")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("通过esprima生成AST\n通过estraverse遍历和更新AST\n通过escodegen将AST重新生成源码\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://juejin.im/post/5a2bf2dd6fb9a044fd11b0d2",target:"_blank",rel:"noopener noreferrer"}},[a._v("一看就懂的JS抽象语法树"),e("OutboundLink")],1)])])])},[],!1,null,null,null);r.default=s.exports}}]);