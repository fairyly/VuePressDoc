(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{228:function(t,e,n){"use strict";n.r(e);var a=n(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_1-1-3-react-组件生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-react-组件生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.3 React 组件生命周期")]),t._v(" "),n("h2",{attrs:{id:"初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化","aria-hidden":"true"}},[t._v("#")]),t._v(" 初始化")]),t._v(" "),n("ul",[n("li",[t._v("1、getDefaultProps()")])]),t._v(" "),n("p",[t._v("设置默认的props，也可以用dufaultProps设置组件的默认属性.")]),t._v(" "),n("ul",[n("li",[t._v("2、getInitialState()")])]),t._v(" "),n("p",[t._v("在使用es6的class语法时是没有这个钩子函数的，可以直接在constructor中定义this.state。此时可以访问this.props")]),t._v(" "),n("ul",[n("li",[t._v("3、componentWillMount()")])]),t._v(" "),n("p",[t._v("组件初始化时只调用，以后组件更新不调用，整个生命周期只调用一次，此时可以修改state。")]),t._v(" "),n("ul",[n("li",[t._v("4、 render()")])]),t._v(" "),n("p",[t._v("react最重要的步骤，创建虚拟dom，进行diff算法，更新dom树都在此进行。此时就不能更改state了。")]),t._v(" "),n("ul",[n("li",[t._v("5、componentDidMount()")])]),t._v(" "),n("p",[t._v("组件渲染之后调用，只调用一次。")]),t._v(" "),n("h2",{attrs:{id:"更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新")]),t._v(" "),n("ul",[n("li",[t._v("6、componentWillReceiveProps(nextProps)")])]),t._v(" "),n("p",[t._v("组件初始化时不调用，组件接受新的props时调用。")]),t._v(" "),n("ul",[n("li",[t._v("7、shouldComponentUpdate(nextProps, nextState)")])]),t._v(" "),n("p",[t._v("react性能优化非常重要的一环。\n组件接受新的state或者props时调用，我们可以设置在此对比前后两个props和state是否相同，"),n("br"),t._v("\n如果相同则返回false阻止更新，因为相同的属性状态一定会生成相同的dom树，这样就不需要创造新的dom树和旧的dom树进行diff算法对比，节省大量性能，"),n("br"),t._v("\n尤其是在dom结构复杂的时候")]),t._v(" "),n("ul",[n("li",[t._v("8、componentWillUpdata(nextProps, nextState)")])]),t._v(" "),n("p",[t._v("组件初始化时不调用，只有在组件将要更新时才调用，此时可以修改state")]),t._v(" "),n("ul",[n("li",[t._v("9、render()")])]),t._v(" "),n("p",[t._v("组件渲染")]),t._v(" "),n("ul",[n("li",[t._v("10、componentDidUpdate()")])]),t._v(" "),n("p",[t._v("组件初始化时不调用，组件更新完成后调用，此时可以获取dom节点。")]),t._v(" "),n("h2",{attrs:{id:"卸载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#卸载","aria-hidden":"true"}},[t._v("#")]),t._v(" 卸载")]),t._v(" "),n("ul",[n("li",[t._v("11、componentWillUnmount()")])]),t._v(" "),n("p",[t._v("组件将要卸载时调用，一些事件监听和定时器需要在此时清除")]),t._v(" "),n("h2",{attrs:{id:"组件的生命周期可分成三个状态："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件的生命周期可分成三个状态：","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件的生命周期可分成三个状态：")]),t._v(" "),n("ul",[n("li",[t._v("Mounting：已插入真实 DOM")]),t._v(" "),n("li",[t._v("Updating：正在被重新渲染")]),t._v(" "),n("li",[t._v("Unmounting：已移出真实 DOM")])]),t._v(" "),n("blockquote",[n("p",[t._v("Mounting: componentWillMount  在渲染前调用,在客户端也在服务端。\nMounting: componentDidMount    在第一次渲染后调用，只在客户端。")])]),t._v(" "),n("blockquote",[n("p",[t._v("Updating: componentWillReceiveProps   在组件接收到一个新的 prop (更新后)时被调用。\nUpdating: shouldComponentUpdate        返回一个布尔值。在组件接收到新的props或者state时被调用。在初始化时或者使用forceUpdate时不被调用。")])]),t._v(" "),n("blockquote",[n("p",[t._v("Updating: componentWillUpdate      在组件接收到新的props或者state但还没有render时被调用。在初始化时不会被调用。\nUpdating: componentDidUpdate        在组件完成更新后立即调用。在初始化时不会被调用。")])]),t._v(" "),n("blockquote",[n("p",[t._v("Unmounting: componentWillUnmount   在组件从 DOM 中移除之前立刻被调用。")])]),t._v(" "),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://react-cn.github.io/react/docs/component-specs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 组件生命周期"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5a062fb551882535cd4a4ce3",target:"_blank",rel:"noopener noreferrer"}},[t._v("图解ES6中的React生命周期"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/qiaojie/p/6135180.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 生命周期"),n("OutboundLink")],1)])])])},[],!1,null,null,null);e.default=r.exports}}]);